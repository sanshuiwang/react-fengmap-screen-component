{"version":3,"file":"index.es.js","sources":["../src/helpers/object.js","../src/bases/FengmapBaseControl.js","../src/bases/FengmapBaseOverlay.js","../src/bases/index.js","../src/helpers/validator.js","../src/helpers/browser.js","../src/helpers/map.js","../src/FengmapBase.js","../src/FengmapFloors.js","../src/controls/FengmapZoomControl.js","../src/assets/icon-rotate-7.jpg","../src/controls/FengmapRotateControl.js","../node_modules/classnames/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/HorizontalButtonGroupsControl/index.js","../src/components/VerticalButtonGroupsControl/index.js","../src/controls/FengmapFloorControl.js","../src/controls/Fengmap3DControl.js","../src/controls/FengmapCompassControl.js","../src/controls/FengmapResetControl.js","../src/overlays/FengmapImageMarker.js","../src/overlays/FengmapNavigation.js"],"sourcesContent":["export function isNil(obj) {\n  return obj === undefined || obj === null\n}\n\nexport function isNumber(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]'\n}\n\nexport function isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nexport function isFunction(obj) {\n  return Object.prototype.toString.call(obj) === '[object Function]'\n}\n\nexport function grabNumbers(str) {\n  if (!str) {\n    return 0\n  }\n  return +str.match(/\\d+/)[0]\n}\n\nexport function pick(obj, keys) {\n  const newObj = {}\n\n  keys.forEach(key => {\n    newObj[key] = obj[key]\n  })\n\n  return newObj\n}\n","import React from 'react'\n\nexport default class FengmapBaseControl extends React.Component {\n  load = () => {}\n  unload = () => {}\n}\n","import React from 'react'\n\nexport default class FengmapBaseOverlay extends React.Component {}\n","import FengmapBaseControl from './FengmapBaseControl'\nimport FengmapBaseOverlay from './FengmapBaseOverlay'\n\nexport const VALID_SUB_COMPONENTS = [FengmapBaseControl, FengmapBaseOverlay]\n","import { isArray } from './object'\nimport { VALID_SUB_COMPONENTS } from '../bases'\n\nexport function isChildrenValid(children) {\n  if (!children || (isArray(children) && !children.length)) {\n    return true\n  }\n\n  if (!isArray(children)) {\n    if (VALID_SUB_COMPONENTS.every(c => !(children.type.prototype instanceof c))) {\n      throw new Error(`${children} is not a valid child for <FengmapBase />`)\n    }\n    return true\n  }\n\n  const child = children.find(child => VALID_SUB_COMPONENTS.every(c => !(child.type.prototype instanceof c)))\n  if (child) {\n    throw new Error(`${child} is not a valid child for <FengmapBase />`)\n  }\n  return true\n}\n","export function isOrderIE() {\n  const version = ieVersion()\n  return version !== false && version < 11\n}\n\nexport function ieVersion() {\n  const ua = window.navigator.userAgent\n\n  // IE 10\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n\n  // IE 11\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n\n  // Edge 12 (Spartan)\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n\n  // Edge 13\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n\n  const msie = ua.indexOf('MSIE ')\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10)\n  }\n\n  const trident = ua.indexOf('Trident/')\n  if (trident > 0) {\n    // IE 11 => return version number\n    const rv = ua.indexOf('rv:')\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10)\n  }\n\n  const edge = ua.indexOf('Edge/')\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10)\n  }\n\n  // not ie\n  return false\n}\n","import { grabNumbers } from './object'\n\nexport function getFloors(map) {\n  try {\n    return map.listGroups.map(g => {\n      if (g.gname.toLowerCase().indexOf('f') > -1) {\n        return +g.gname.match(/\\d+/)[0]\n      }\n      return +g.gname.match(/\\d+/)[0] * -1\n    })\n  } catch (error) {\n    return false\n  }\n}\n\nexport function initFloorsToMapInstance(map) {\n  if (!map) {\n    return\n  }\n\n  Object.defineProperty(map, 'focusFloor', {\n    get: function() {\n      return getFloors(map)[map.groupIDs.indexOf(map.focusGroupID)]\n    },\n    set: function(floor) {\n      const floors = getFloors(map)\n      const focusGroupID = map.groupIDs[floors.indexOf(floor)]\n      map.visibleGroupIDs = [focusGroupID]\n      map.focusGroupID = focusGroupID\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  Object.defineProperty(map, 'listFloors', {\n    get: function() {\n      return getFloors(map)\n    },\n    set: function(floor) {\n      throw new Error('listFloors is not writable')\n    },\n    enumerable: true,\n    configurable: true\n  })\n}\n\nexport function setFloorsByGroupId(map) {\n  if (map.focusGroupID === -1) {\n    return\n  }\n  const floors = getFloors(map)\n\n  map.focusFloor = floors[map.groupIDs.indexOf(map.focusGroupID)]\n}\n\nconst STYLE_LEFT_TOP = { position: 'absolute', top: '15px', left: '15px' }\nconst STYLE_LEFT_BOTTOM = { position: 'absolute', bottom: '60px', left: '15px' }\nconst STYLE_RIGHT_TOP = { position: 'absolute', top: '15px', right: '10px' }\nconst STYLE_RIGHT_BOTTOM = { position: 'absolute', bottom: '60px', right: '10px' }\n\nexport function mergeWithOffset(ctrlOptions, POSITIONS, baseStyle) {\n  // LEFT_BOTTOM\n  if (ctrlOptions.position === POSITIONS[0]) {\n    if (!ctrlOptions.offset) {\n      return Object.assign({}, baseStyle, STYLE_LEFT_BOTTOM)\n    }\n    return Object.assign({}, baseStyle, {\n      ...STYLE_LEFT_BOTTOM,\n      bottom: `${grabNumbers(STYLE_LEFT_BOTTOM.bottom) + ctrlOptions.offset.y}px`,\n      left: `${grabNumbers(STYLE_LEFT_BOTTOM.left) + ctrlOptions.offset.x}px`\n    })\n  }\n  // LEFT_TOP\n  if (ctrlOptions.position === POSITIONS[1]) {\n    if (!ctrlOptions.offset) {\n      return Object.assign({}, baseStyle, STYLE_LEFT_TOP)\n    }\n    return Object.assign({}, baseStyle, {\n      ...STYLE_LEFT_TOP,\n      top: `${grabNumbers(STYLE_LEFT_TOP.top) + ctrlOptions.offset.y}px`,\n      left: `${grabNumbers(STYLE_LEFT_TOP.left) + ctrlOptions.offset.x}px`\n    })\n  }\n  // RIGHT_BOTTOM\n  if (ctrlOptions.position === POSITIONS[2]) {\n    if (!ctrlOptions.offset) {\n      return Object.assign({}, baseStyle, STYLE_RIGHT_BOTTOM)\n    }\n    return Object.assign({}, baseStyle, {\n      ...STYLE_RIGHT_BOTTOM,\n      bottom: `${grabNumbers(STYLE_RIGHT_BOTTOM.bottom) + ctrlOptions.offset.y}px`,\n      right: `${grabNumbers(STYLE_RIGHT_BOTTOM.right) + ctrlOptions.offset.x}px`\n    })\n  }\n  // RIGHT_TOP\n  if (ctrlOptions.position === POSITIONS[3]) {\n    if (!ctrlOptions.offset) {\n      return Object.assign({}, baseStyle, STYLE_RIGHT_TOP)\n    }\n    return Object.assign({}, baseStyle, {\n      ...STYLE_RIGHT_TOP,\n      top: `${grabNumbers(STYLE_RIGHT_TOP.top) + ctrlOptions.offset.y}px`,\n      right: `${grabNumbers(STYLE_RIGHT_TOP.right) + ctrlOptions.offset.x}px`\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { isChildrenValid } from './helpers/validator'\nimport { isArray, isFunction } from './helpers/object'\nimport { isOrderIE } from './helpers/browser'\nimport { initFloorsToMapInstance } from './helpers/map'\n\nconst EVENTS = [\n  'focusGroupIDChanged',\n  'loadComplete',\n  'mapClickNode',\n  'mapHoverNode',\n  'mapScaleLevelChanged',\n  'scaleLevelChanged',\n  'visibleGroupIDsChanged'\n]\n\nconst INNER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  top: '0px',\n  left: '0px',\n  backgroundColor: '#fff',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}\n\nclass FengmapBase extends Component {\n  static propTypes = {\n    isFengmapBase: PropTypes.bool,\n    reference: PropTypes.any,\n    mapOptions: PropTypes.object.isRequired,\n    events: PropTypes.object,\n    mapId: PropTypes.string,\n    style: PropTypes.object,\n    fengmapSDK: PropTypes.any.isRequired,\n    loadingTxt: PropTypes.string,\n    supportTxt: PropTypes.string,\n    gestureEnableController: PropTypes.shape({\n      enableMapHover: PropTypes.bool,\n      enableMapPan: PropTypes.bool,\n      enableMapPinch: PropTypes.bool,\n      enableMapRotate: PropTypes.bool,\n      enableMapIncline: PropTypes.bool,\n      enableMapSingleTap: PropTypes.bool\n    }),\n    children: PropTypes.any\n  }\n\n  static defaultProps = {\n    loadingTxt: '地图加载中...',\n    supportTxt: '您使用的浏览器暂不支持地图，请升级或改用Chrome获取更好的服务'\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.mapContainer = React.createRef()\n    this.loadingTxt = React.createRef()\n\n    const children = this._removeNullDomArray(props.children || [])\n\n    isChildrenValid(children)\n\n    this.refs = null\n\n    this.isFengmapBase = props.isFengmapBase === undefined ? true : props.isFengmapBase\n  }\n\n  _removeNullDomArray = (children = null) => {\n    return children.reduce((init, curr) => {\n      if (curr === null) {\n        return init\n      }\n      return init.concat(curr)\n    }, [])\n  }\n\n  _loadMap = mapId => {\n    return new Promise((resolve, reject) => {\n      const { mapOptions, events, fengmapSDK } = this.props\n      if (!mapId || !fengmapSDK || isOrderIE()) {\n        return resolve()\n      }\n      if (this.mapInstance) {\n        this.mapContainer.current.innerHTML = ''\n      }\n      this.mapInstance = new fengmapSDK.FMMap(Object.assign({}, mapOptions, { container: this.mapContainer.current }))\n      EVENTS.forEach(e => {\n        this.mapInstance.on(e, event => {\n          if (e === 'loadComplete') {\n            this.loadingTxt.current.style['zIndex'] = -10\n            this._configGestureEnableController()\n            this._initAllChildren(this.mapInstance)\n            initFloorsToMapInstance(this.mapInstance)\n            resolve()\n          }\n\n          if (events && events[e]) {\n            events[e](event, this.mapInstance)\n          }\n          if (!this.mapInstance) {\n            return\n          }\n          if (events && events.mapHoverNode) {\n            this.mapInstance.gestureEnableController.enableMapHover = true\n          } else {\n            this.mapInstance.gestureEnableController.enableMapHover = false\n          }\n        })\n      })\n\n      this.mapInstance.openMapById(mapId)\n    })\n  }\n\n  _configGestureEnableController = () => {\n    const { gestureEnableController } = this.props\n    if (gestureEnableController) {\n      Object.keys(gestureEnableController).forEach(key => {\n        this.mapInstance.gestureEnableController[key] = gestureEnableController[key]\n      })\n    }\n  }\n\n  _initAllChildren = map => {\n    const { fengmapSDK } = this.props\n    const { refs } = this\n    if (!isArray(refs)) {\n      return\n    }\n    refs.forEach(ref => {\n      ref.current.load(map, fengmapSDK, this)\n    })\n  }\n\n  _destroyAllChildren = map => {\n    const { fengmapSDK } = this.props\n    const { refs } = this\n    if (!isArray(refs)) {\n      return\n    }\n    refs.forEach(ref => {\n      if (ref.current.unload) {\n        ref.current.unload(map, fengmapSDK, this)\n      }\n    })\n  }\n\n  componentDidMount() {\n    this._loadMap(this.props.mapId)\n    if (this.loadingTxt && this.loadingTxt.current) {\n      this.loadingTxt.current.style['zIndex'] = 10\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.mapId === this.props.mapId) {\n      return\n    }\n\n    this._destroy()\n    this._loadMap(this.props.mapId)\n  }\n\n  _destroy = () => {\n    if (!this.mapInstance) {\n      return\n    }\n\n    this._destroyAllChildren(this.mapInstance)\n\n    EVENTS.forEach(e => {\n      this.mapInstance.off(e)\n    })\n    if (isFunction(this.mapInstance.dispose)) {\n      try {\n        this.mapInstance.dispose()\n      } catch (err) {\n        console.warn(err)\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._destroy()\n  }\n\n  render() {\n    const { style, loadingTxt, children } = this.props\n\n    if (isOrderIE()) {\n      return (\n        <div\n          style={Object.assign({}, style, {\n            display: 'table-cell',\n            verticalAlign: 'middle',\n            textAlign: 'center'\n          })}\n        >\n          <span style={{ display: 'inline-block' }}>{this.props.supportTxt}</span>\n        </div>\n      )\n    }\n\n    const childs = this._removeNullDomArray(children || [])\n    const cloneChildren = cloneElements(childs)\n    if (cloneChildren) {\n      this.refs = cloneChildren.map(c => c.ref)\n    }\n\n    return (\n      <div style={Object.assign({}, style, { position: 'relative' })}>\n        <div ref={this.mapContainer} style={INNER_STYLE} />\n        <div ref={this.loadingTxt} style={INNER_STYLE}>\n          {loadingTxt}\n        </div>\n        {cloneChildren ? cloneChildren.map(c => c.child) : null}\n      </div>\n    )\n  }\n}\n\nexport default FengmapBase\n\nfunction cloneElements(children) {\n  if (!children) {\n    return null\n  }\n  if (!isArray(children)) {\n    const ref = React.createRef()\n    return [\n      {\n        child: React.cloneElement(children, {\n          key: 'onlyone',\n          ref\n        }),\n        ref\n      }\n    ]\n  }\n  return children.map((child, i) => {\n    const ref = React.createRef()\n    return {\n      child: React.cloneElement(child, {\n        ref,\n        key: i\n      }),\n      ref\n    }\n  })\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport FengmapBase from './FengmapBase'\nimport { isNil } from './helpers/object'\n\nclass FengmapFloors extends Component {\n  static propTypes = {\n    reference: PropTypes.any,\n    mapOptions: PropTypes.object,\n    events: PropTypes.object,\n    value: PropTypes.number,\n    onFloorChange: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.mapInstance = null\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.value === prevProps.value) {\n      return\n    }\n    if (!this.mapInstance) {\n      return\n    }\n\n    this._changeFloor()\n  }\n\n  _changeFloor = () => {\n    const { onFloorChange, value } = this.props\n    try {\n      if (!this.mapInstance || isNil(this.mapInstance.listFloors)) {\n        return\n      }\n      const { listFloors } = this.mapInstance\n      const index = listFloors.findIndex(f => f === value)\n      const groupId = index + 1\n      this.mapInstance.visibleGroupIDs = [groupId]\n      this.mapInstance.focusGroupID = groupId\n\n      if (onFloorChange) {\n        onFloorChange({\n          floorLevel: value,\n          groupId\n        })\n      }\n    } catch (error) {\n      // such error: TypeError: Cannot read property 'scene_data' of undefined, should not be printed\n    }\n  }\n\n  render() {\n    const props = omit(this.props, 'events', 'mapOptions')\n    const events = omit(this.props.events || {}, 'loadComplete')\n    const mapOptions = this.props.mapOptions\n    return (\n      <FengmapBase\n        {...props}\n        isFengmapBase={false}\n        ref={props.reference}\n        mapOptions={Object.assign({}, mapOptions, { defaultVisibleGroups: [], defaultFocusGroup: null })}\n        events={{\n          ...events,\n          loadComplete: (e, map) => {\n            this.mapInstance = map\n            if (this.props.events && this.props.events.loadComplete) {\n              this.props.events.loadComplete(e, map)\n            }\n            this._changeFloor()\n          }\n        }}\n      >\n        {props.children}\n      </FengmapBase>\n    )\n  }\n}\n\nexport default React.forwardRef((props, ref) => <FengmapFloors reference={ref} {...props} />)\n\nfunction omit(obj, ...keys) {\n  const newObj = {}\n  Object.keys(obj)\n    .filter(k => keys.indexOf(k) < 0)\n    .forEach(k => {\n      newObj[k] = obj[k]\n    })\n  return newObj\n}\n","import FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nclass FengmapZoomControl extends FengmapBaseControl {\n  static propTypes = {\n    ctrlOptions: PropTypes.shape({\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }),\n      imgURL: PropTypes.string\n    }).isRequired\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { ctrlOptions } = this.props\n    new fengmapSDK.zoomControl(map, ctrlOptions)\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default FengmapZoomControl\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAB71BMVEUAAABEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREBEREAAAAAAAAACAgINDQwODg0AAAALCwoBAQEAAAAAAAAAAAAAAAAAAAABAQEFBQUFBQUICAcHBwcAAAAAAAAAAAAEBAQAAAAAAAABAQEHBwcWFhQhIR8AAAAGBgUEBAQBAQEBAQEBAQECAgEFBQQQEA8KCgkFBQUMDAsGBgYEBAQAAAADAwMGBgYBAQEXFxYFBQUJCQgICAcjIyEEBAQEBAQBAQEGBgURERAJCQgJCQgBAQECAgICAgIGBgUEBAQUFBMHBwcBAQEBAQEEBAMDAwMCAgISEhEBAQEAAAACAgICAgIBAQEBAQEAAAACAgICAgICAgIDAwMBAQEAAAAAAAANDQ0EBAQQEA8AAAABAQEAAAAAAAACAgIBAQECAgIEBAQGBgUAAAACAgIEBAQHBwcEBAQGBgUKCgkICAcAAAABAQEEBAMEBAQEBAMDAwMBAQAAAAAAAAACAgIAAAADAwICAgIDAwMDAwMCAgIDAwMCAgIAAAAAAAAAAAABAQEBAQEBAQECAgIAAAABAQEBAQEAAAAAAAAAAABNpz2SAAAAhnRSTlMAAQIDAwEEBQEFBgEHCAEICQIKCwILDA4MAg8OAg8/QUlLL1iAf4+/38/AwsOHhh9fn9JPr++WKxzvtOGgkHBg4Tpps1ql8G8xlc8s0hF3HfAh36Q7aHiwUECU0ipmoECCseAUQD9RgcDA70BxgYKA7+848Drvv7+PD8CwUjLPMLJ24aRXEedpeY0AABpTSURBVHja7Z3pf9NInsbVEAgEAoFAQg4psRpZUogjCTsQQRpC6MQ0AcKRhtnd2fuYvWZ3Zo/Z+941pI+Z7p6+756eP3Tt+A52Ijv61fnoFZ+HF66qr2JLv/pWlWHgwtV6vXLo0KFXkGmVtV6HBwYGDiPTKmu5jhwdHBw8egSZRlnrdez40NDQ8WPINMparxMnh4eHT55AplHWep06PTIycvoUMo0yo+V58MzZ0dHRs2fa/huZ2tmRw4ca/z53fmxs7Py5tv9HpnZ27OhA4wY4c358fPzCRNv/T1xApnJ24vhg4wY4dXZsfHJquu3/p6cmJ5Gpm506OTQ4UHsGOHF6dGwcY6RVdub08NBgrSZ07OTI6NgFjJFO2bmzI8NDR2vPgseHR0bPT2CMNMomzo+ODB+v1QSPDg2PnD2HMdIpuzA2OnKyVhM8PDg0fPoMxkirbHxs9HStJvjKwODQyVMYI72y8bGzdeaHBgaPn8AYaZaNn2985x8aOHoMY6RbdqH5zHfo8BGMh3bZRMf5IIyRnhnGA/wxHuCP8QB/jAf4Y4zAH5lG/FveAScwHtplbU7gBYyHbtkuJxBjpFkGJxBOIJxAfTM4gXtnpmVZM7OZTGZ2xqpctmL9hRP4UpbJvHrRybqu65Wq1/MX29vbL56XWi5/7tJ8LrcwYwWS9xdO4HTzTz10ornLL7HuxL8tc13HsSw4gfJmdt4puIlY75UtXrqSy1yFEyhVtjTjFPzeWe+RxW42tCQaA32dwKVM7tr1A7HeI/Oj0IYTKG4WhMuX02LdNYvnFjJwAsXLgjDy0mbdPbv8Wl7scdHLCTTzkUfGumvmOrLUDhR/1nd8ctbdsjgKTfDnmdX+9Dnxrz4Y3rgK/nze9W5GMVvW3bKVK7fAn3W2epsL626Zl7XBn132+tr6C6H4V/7pFQPwZ5HdeWOdN+tumS/aM6F6TqBZvCsG625ZNAMnkC6zIpFYd8lWchtwAknmdYteSQL+lWzZEmH81HICg513Pjn4lzOv8jTAd/yUcgLzrrisu2RxNuA6fio5gaFXko7/zgOhDSfw4JnpxCU5+VcmjGbgBB4sa+KXkX85u7cKJ7D/LGip9svJv5xdvwknsL8siGRj3SXzQjiBvWf3nVgR/pV5ghBOYI9zvRfjkjr8K9MEFpzAHrIHiyW1+FfeCCw4gUnn+q8/V49/+Vq+ijnhBFlm/oWa/MtZbhP898k21rbV5b+9/fAm+O+Z5daV5l/OfAv8u2azK9uq869MEZjg3zF7dHtbB/6lUlwE/w7ZjYea8K9UBWw4gbsy++4LffiXL+c+nMBW19N5rhf/0vPrGTiBTdnT045/ObuyBCew+uefLenIf/vFY1J3VBon0PY05V/OsiacQKekL/9SybM0dwIDX2v+ldcBrZ3AMNadf6nkB9o6gWahBP6lUhxq6gTaHvhXsyebOjqBxRL417N7W9o5gTtf/+BP5QkI7wTaHvi3Z5FWTmAYg//uzCdbTywe/2wJ/DusJ7Y14W+64N85C7XgX/35B/9OWaQB/3wM1t0z/77q/ItgvWd2eUtt/hFY75OtZxR2AmuPf2C9Z5ZeTUg0J9D0wTpJ5ijqBNoxWCfLIiWdQPBPntUXD6nkBObBv4esWhdWyQkMwbU3T8hUywkE/14z31TJCQT/3rPFW+o4gUVw7SNb31LFCYzAta9s/ZYaTiD495st2io4geDffxb3exaZQE4g+B8ka94BsjqBWXDl7onh/U/mrHoHgL++WWyCP2qC4K9zdndJTv6Y/00ru7cJ/npnaxI6gQH4p5gtS+cEwv9LNyvK5gSCf8pZKJcTCP8/9cyWyQl0wCv1rFYUlsIJDMGLINsRRaVwAm2s/yTJXEmcQBP8ibJIDifQBy+q7E0ZnMAIvOiyLfGdwBC8KD3RJdGdQBu8SLO7gjuBJvZ/I86yYjuBLnhRZ3mR54Qd8CLP4kBc/hZ4Mch8YfnvPACAF3mWFdUJcsGGTZYXk78DNoyyOBCRvw02zLI5AZ1A05NnLH3XjZzKFVrWzGwul1u46LiuG8tzT+TEcwKzEozbpWu51dk7e9WxLMvJuo8luI+3RHMCLbH5ewXHepS8b5nVN+Ziob/HLgvmBJbfAIVdX+s6ltlP3+ww64v7m5AVywksCMrfLdoH6puZz4r6bGOJ5ATmRRwjL5tPpb/Bzdsi3tueKY4TaMbi/UbesNPs7+tPFoX7bcuK4wQWBOO/krua/vddPooFeya0RHECLaH4P1zbInreNUOxzjvwBXECTZHem+feJK13BFmRzjt3xHACXxOnRh49ol8DHc6Jc78HIjiBd0QZD88x2eyBkFkTfk6ApRN4SZBaX8hwD4yry4I8767ydwIfCMG/gp/pHiimI8Q7wfom7znhpXUB+O/gZ70HTuMW4PpM+AZvJ+AKf/5V/BzORQwiAd4Jbb78t/jP9TgGJ/6VW8Dl/k7o8nWC5rnXQ02O/MvXzGWx1wkQj8cqZ/6ubfDlX86ervMdg8akEA8ncIXvXuqhwZ//5OTSM77PQA4/JzDH93xNUwj+5czyeL4DxSYvJ3DzIUf+nmWIwr/8SpjlWROIeDmBb3DknzUF4l+ZEfU41gQCPk7gVY5n6eQNsfjXvgQ4vRMW+DiB/Orhrikc/4oXx8+LmuXhBD7ixr9oiMjfMB5xmxeb5+EEurxcT1tQ/uUsx6sukmHvBFqc+Ld+/YvGf3LyVU7u6CX2TqDLh79jiMx/ajrw+YyLxdoJtLj0czEUnH/5baAgwpwQvRPocuFvC8/faGyVzvid0GLrBFo8+N81ZeDPaa9Ml60TGHHg/0wS/uU/Dx7uuMXSCQw48F82ZOFf2TCffU3IZTknHIH/PjUhDp6IxY5/wJ7/Tan4T09t3mNeE4rYOSFZ8N9/rvyyGOuEKPppxuC/f3bfZ10TXGblhBXBP9HaEZ/1uuhNRk6gB/7JPCGf8bNSjo0TGIJ/0t9KxuenrrBxAhmfCfCatPzrdwCvvxUiJ9DG+3/yzGZbE3RZOIER+ItbE7TpnUAzxvxPT2vH2K6VoHcCQ5b8H0vPf3pqlel5Mia5E+hj/r/H7ArLmnBI7QTaLJ9p8irwn5xiuXbQp3YCI4b8i2rwnzZZeoI2rRNoLrLjHynCv/oyyKommKV1Am+y4++bqvCvbKbNrCYc0zqB7Na+xLY6/BsT6Cx+P39A6QReZfdOG6rEv/LyxKp+dpvSCXzKjH+kFn8jYFc/2yScE2bmOXmmWvxZnqmxSsd/S5TzUGTMnnFaJyhlTctRj//00gqr38+AzAm6zoi/ryD/qckMj/0TUu3TLVY1bVtF/uz2VPKpnMDXGPF31OQ/dZ/VWZQBkRPosWm/Z6rJf7pZECSuCRRpnECb0f1rqcq/cr4mk5qwS+MEFtnwL6jLf6ccxKImbJI4gWzWOcSBuvwbm0dQ14RCCicwYPP75ajMv7aohrwmWKBwAkMm/D21+e88B7KYEyZwAgtMnl/yavOvLKthMSfwGwROYMzw+VVd/ozO2f3N9J1Ai8nzq6U6f2P6CYs5od9K3wlk4rS46vOf2mAxJ/TWD1N3An0W7y+2+vwnJ9cYzAm99dtpO4EmC/6RDvyZnLPw9u+k7QSGLN5fAx34T01H9DX1d+K0nUAWa4JdPfi3ltSYrBNOpf0eg/qFpQd/NvusFtPlHzDg7+rC37BZzqml0/6QQf0qrwv/xl7rpGcqp+sEZen5e/rwr5khtGNqp+qE3aWvX4b68K9OChL/TYVp8r9Pzz++rxH/ilzD4jzR1JzAWT77nKr7nWDS7x3lpekE5ujr17d04m8Yy/TfqWaKTuA8Of/LevGfvkX/nfq7KTqB6+TzF6t68Z+aXKHm/+7vpecEbnBY06z6O8FT4jH9+S9+Pz0n8FVy/mu68aeeE3zv/Q/+ID0n8CL5/OXruvGfmi5Qjuk7v/zwg4/+MDUnkPyc6HX9+LdY1gRj+vbHH37wyR+l5gR61POXT/TjX1NsiMb0rY8//MWnTlpOoEk+f/0D/fjTevZvffz+u7V9llJwAsnPiV3UkX/jN4DECfzlz+v7BKTgBBap/YWCjvzrYhCNE/he5Z9pOYFZan8h1JE/6d6B7zRnhFNwAl1qf8XUkv/OUmEW6+wO3FbqcyJ9PflXzDDaOUEnJScEewIRZTGLdRYHb6uFPWGIsmcMPPsU2pqn9td05T/9gHhOODakeFZxdeU/tUXtBKTT1oj4WcXRlT+9Z/HHqTiBLvYEoMpu0/L/7E9ScQI9FnuaacmfeJ798y9+lIoTSMzf15f/tEXJ/9Mvv/pRGk7gIwb+uqb8SedZ3/3k66/+NA0nkHpNQFFf/kaLaZG+E/jR11/9WRpOYIb4XcXSmD+dE/De+x989PUXf56GE5ijXr+gMf/61rE0TuCXn5XScAJztPw9nfnXN5CncQI/r75hHdQJfEL7rjqnM//aVhFETmC1xnJgJ3CO1glf0Jl/daaVygms3gB/8Zc//qu/dlqviwu5XG7hYtKM+JyQ+V7a0iGbMaW+J3xCJ3BnkwD/m2+/+Jx8XQfPLA5k/k5wKZ3AyjxL6ZvvPlOaf+shkxL+JjiUTmDlBnB/9b3i/D2pnwku0o6VYwQ/UZx/85h5KZ8JZ8mdIDsGf4GzDPnei613APgLl23QjtWObWXH4C9uRjtWVd2udgeAv4gZ7Vj9xGjeAeAvZOZTjtX3vzIad8A74C9k5lI6gd9901iF9NO3wV/IzKV0Ar9t3ABn/uZvwV/IzKV0Ahs3wKmzY3+3Dv4iZmRr7ytO4Le/anECby2Cv0ZO0I4T+N2vW51AhWqC6vCnOk+86gR+X2pzApWpCSrEv3YDUDmBpXYnUJGaoEr8qzcAmRNY2uUEKlETVIo/0drruhNY2u0EKlATVIt/5QYgdAJLL+0TWL4DwF+kzCF1Aksv7xNoL4K/+k5Y3Qksddgn8NY6+CvvhNWdwFKnfQK31sFfnGyBdvwMw3i5DdLWBBXkP3WFdvw68Z+StSaoIn/q87iMzm2QsiaoJP/JeT77hElYE1ST/+Ql2vHr2gbpaoKK8idee/vr7m2QrCaoKv9p0vH7/u+bn/fSPoFS1QSV5W9Qjt9n3/2s8Xkd9gmUqCaoLn/KfcI+/+Lbxg3QcZ9AaWqC6vKnPI+p4gT+rOkEdtonUJKaoML8W24AEifwH1qcwE5tkKImqDL/hhJI5AT+Y6sTKGlNUGn+ZE5ozQl02pxAKWuCavOvLwugcgKddiewUxsCH/w5Zj7N+NWdwNDYf59A0wd/fhnR+PW0T+DOHQD+XLKAaPxa9glMcHZw+Q4Afz6ZVaLdJzBIdnaweRf8VXKCm06gkfDs4KV74M8li0q0+wQaSc8O3rwH/jwyn3ZMd58cuUe7lu6CP4eMeEzdxPynpk0f/JlnM8Rjmk3Ov1EPEIO/H+jAn/zsWMfopV2mODVB39SC/9Q14jHN99YuYWqCuvCfXCEeU6vHdglSE9SG/wb1mP5Tr2cHC1ET1Ib/5CrxmH52uOezgwWoCerDn/o8rs//eaD3s4O51wQ14j9F62N9+uW/DPRxdjDnmqBO/O+Qjum7n3z944F+zg7mWhPUif90kXJMK07gvx429nMCBasJasWfdJ/oHSfw36qf1/PZwdxqgnrxp1wTUnUCa/PAvZ8dzKkmqBd/IyQc0x0n8N+rH9jP2cFcaoKa8W8eHU/lBBZ2PrC/s4M51AR1429SjumOE1idCkrgBApRE9SNf/MXgMwJzNdugP2dQAFqgtrxb/wC0DmB1Sn1RE4g95qgfvxN0jGtOIFx9UOTOYGca4L68a//AhD+zr4sBPbaVmY1QQ35G/TvWc5B+TOrCerIP6B/z84fmD+jmqCO/KtnRdG+ZwUH58+kJqglf4N+jzYvDf4MaoJ68g/p62yFVPiT1wT15F95BKSusxV3vQNO9NtW0pqgpvwtBnV22zCO9O4EMq4JasqfbE1oSxYbxrGjfTiBTGuCuvIPGMyzFIwTxwf7cQIZ1gR15W9EDObZnFMnhwb7cgKZ1QS15W+ymGf9j9PDQ4P9OYGMaoLa8ic6J6o9++nZkeGho306gUxqgvryv/+Qnv87/zk6Mny8byeQQU1QX/7U54RVncD/Gh05eax/J5C8Jqgx/yUWe7S/9cPR0zUPrD8nkLgmqDH/qTUWns1/j52tM+/TCSStCerMf4OJZ/U/5xvf+f06gYQ1QZ35T15j4tn9b/OZr28nkKwmqDX/DBvP8v+aH9q/E0hUE9Sa/yQbz/KZ0e06cJ+WlsH/ANlTNp5tkYx/OYvAv+9s8yEbzzog5G+03AHgL9aeMPXMJ+XfvAPAv8dsltE6iyIt//odAP69Zo8ZrbMIiPlX7wDw7zW7yGqdTcd3wAnuTpPu/O8w4t/8BUjJCeyYLYN/r5nPau+t+i9Aak5gKnMa2vPPsuJf/wVI0QnsmK311K7I0Jy/xWzvvdovQKpOYMdsGfx7cOrYndFb/QU4k64TeMCaoPb8W3aEouZfXRJ2Lm0n8EA1QfAvstt7M9x55zufuhN4gJog+Nvs+MeVh+3pC2PpO4F91wTBv/UBgHpNQLTzueNjBE5gnzVB8Dd8dvwrp8SUP3ecxAnsqyYI/q0Py+T8vernjtM4gX3UBMGfdE/gl7Ji9XMvEDmBPdcEwd+wWPIvmdXPnaByAnusCYK/Yccs+Ued2kLfz2Xw77qmkin/0gwX/t1qguDP+uyNu5z4d64Jgj/zs1fe5MW/U00Q/FsLAEz4P9zkxv/lmiD4H8yf7ifLceRv7Mx3NNuVBX/m/Lc3XuJP5gR23PuqufeRa4E/e/5ru9tC6QR2zK4+XZu/NFcoBgb4s+e/vbWrLbROILK9n/8LzPnP72oLtROITLCzN2fb20LvBCITiv/l9rawcAKRdav/e+z5v7jZ1hY2TiAyAeZ/atnjtrawcgKR8Z7/b2RhW1uYOYHIXsqyXPh77W1h5wQia89Mlwv/UtjeFoZOILLWrOXxjyl/b1dbWDqByJpZGPPh3/oFwN4JRFZf/xeVOPH3d7eFrROIbCezfV78S3vPvYENk6xY4sbfBX/u2SOXH//mFwD488puxBz5F8Cfc3Z1rsSRf2NPIPDnlC0858o/C/5cs8x1vvxjcw/+TJ1ALbONay/48q/vCdWpfcydQO2yzdw2b/5e9/bBCaTOcuvc+ddeATu1D04gcfbmyjZ//oWu7YMTSJvdvL4tAP846NY+OIGUmRk+fiEC/5LTrc1wAgkz04mfi8Hf79ZmOIF0mR1xYd0xs7q1GU4gUWaGfkkc/tmubYYTSJLZUVwSiL9ndm0znMD0s8Dx+LHumOW7txlOYMqZXfS5su6UFfZoM5zANDMr63Fm3SmLzT3aDCcwrWzrwbOYO+uOWT5xP8C1z2z26bV1IVh3ygrgT5lZxexdYVh3ymIT/Ekyy3KyricU646ZBf4pZkuZp7mFiwXXF5J1pywL/ilmD9ZFZt0p8++Df3rZk23Z+Md3kvKHE6gi/9KNhH2DE5jkXU8+/s8S9g1OYJJsXjr+j5eS9Q1OYCKvVzr+z28l6xucwERZRjr+D5L1DU5gwnU9svG/naxvcAITZrOS8b+8mahvcAKTZjNy8X+4laxvcAITz/VLxf/F6wn7BicwaWZJxT+XtG9wApNmlkz8ryXuG5zApJklEf97m4n7Bicw8fy/PPzXN5L3DU5g0syShv/2Vr/9Bes9Mksa/qvgT5FZsvB/Cv4kmSUJ/zXwp8ksOfhfA3+izJKC/71N8CfKLLX5wwncL7Mk4L/eL384gftnMxLw3+qzb3AClXBC++YPJzBJllGWP5xAJZzAvvnDCVTCCeybP5xANZzA1T77BidQCSdwvV/+cAKVcAL7/v6HE6iEE3gA/nACFXACD8IfTqD8TuCB+MMJlN4JPBh/OIGyO4H3NlLsL1hL5wT2Pf8L/ko4gfPgr7UTuDYJ/jo7gTnw19oJXAV/nZ3A9Uyq/OEESuYE3ttKs79wAmVzAuc30+wbnEDZnMArqfYNTqBkTuDD1VT7BidQMifw+laqfYMTKJkTeGkz1b7BCZTMCVxIt29wAuVyAhdnU+4bnECpnMC5pbT7BidQJifwYvp9gxMojxPozRD0DU6gNE5g4T5F3+AESuIExnmavsEJlMMJdAMW/QVrQZ3AuGiAv8ZOoBuAv8ZOYPnPH/w1dgILJvhr7AR6eQP8NXYCsyYr/nAC98s4OIGuzaq/cAIFdALjkFnf4AQK6AQ6JrO+wQkUzwksBOz6BidQOCfQtRj2DU6gaE6gF7LsG5xAwZzAOGTaNziBYjmBce3Zj1nf4AQmzVg4ga34GfUNTmDSjN4JXGzFz6pvcAKTZtRO4MOLJo++wQlMmtE6gStvcuobnMCkGaUTOL/KrW9wApNmdE7gtYwo/QVr9k7g4hsbk+AvQ0biBPo3lybBX44sfScwjmyR+gvWbJ1APzQN8NfVCfSygWD9BWt2TmAc5YXrL5xAVk5gnb5Y/YUTyMYJbNIXq29wAlk4gY9b6IvVNziB9E7gvYU7wvYNTiCxE3h9bXVT4L7BCaR0AuPCjati9w1OYNJssed1fVFoC983OIGJs6gH/rHr5E0p+gYnMHEWxIn4e2X2gTx9gxOYPAv34b8yf+XBjClZ3+AE9pCFcWf+rpt1Zm7J2Tc4gb1kQRQ3+N913chx8pYtd9/gBPaY2dbMbEahvsEJRIY5YWTgjwz8wR/jAf4YD/DHeGjJH06g1hmcQL0zOIF6Z3AC9c7gBOqdwQnUO4MTqHcGJ1DzDE6g5hmcQM0zOIGaZ3ACNc/gBGqewQlE1vnCeIA/xkhf/hMXxsfHL0wg0yhrqw+fHxsbO38OmUZZ2/zQ2dHR0bNnkGmUtV6nTo+MjJw+hUyjrPUd8MTJ4eHhk+01QWRqZ61O4LHjQ0NDx9trgsgUz1qcwCNHBwcHj7bXBJEpnzVvgMMDAwOHdz0UIFM/qz8DvHLo0KFdNWFkWmT/DyVwFU+LOBzoAAAAAElFTkSuQmCC\"","import React from 'react'\nimport FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nimport { mergeWithOffset } from '../helpers/map'\n\nimport rotateIcon from '../assets/icon-rotate-7.jpg'\n\nconst INLINE_STYLE = {\n  width: '42px',\n  height: '42px',\n  zIndex: '10',\n  cursor: 'pointer',\n  backgroundColor: '#fff',\n  boxShadow: 'rgba(0, 0, 0, 0.3) 2px 2px 3px',\n  borderRadius: '2px'\n}\n\nconst INNER_STYLE = {\n  width: '20px',\n  height: '20px',\n  position: 'absolute',\n  top: '50%',\n  marginTop: '-10px',\n  left: '50%',\n  marginLeft: '-10px'\n}\n\nclass FengmapRotateControl extends FengmapBaseControl {\n  static propTypes = {\n    ctrlOptions: PropTypes.shape({\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired\n      })\n    }).isRequired,\n    angle(props, propName, componentName) {\n      if (props[propName] === undefined) {\n        return true\n      }\n      if (Object.prototype.toString.call(props[propName]) !== '[object Number]') {\n        throw new Error(`Invalid prop ${propName} supplied to ${componentName}. Must be number > 0 && < 360`)\n      }\n      if (props[propName] <= 0 || props[propName] >= 360) {\n        throw new Error(`Invalid prop ${propName} supplied to ${componentName}. Must be number > 0 && < 360`)\n      }\n    }\n  }\n\n  static defaultProps = {\n    angle: 10\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      style: {},\n      POSITIONS: [],\n      loaded: false\n    }\n\n    this.rotateControl = React.createRef()\n  }\n\n  _getFinalStyle = (props, POSITIONS) => {\n    const { ctrlOptions } = props\n    if (!ctrlOptions) {\n      return mergeWithOffset(\n        {\n          position: POSITIONS[0]\n        },\n        POSITIONS,\n        INLINE_STYLE\n      )\n    }\n\n    // no position specified, with LEFT_BOTTOM by default\n    if (POSITIONS.indexOf(ctrlOptions.position) < 0) {\n      return mergeWithOffset(\n        {\n          ...ctrlOptions,\n          position: POSITIONS[0]\n        },\n        POSITIONS,\n        INLINE_STYLE\n      )\n    }\n\n    return mergeWithOffset(ctrlOptions, POSITIONS, INLINE_STYLE)\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const POSITIONS = [\n      fengmapSDK.controlPositon.LEFT_BOTTOM,\n      fengmapSDK.controlPositon.LEFT_TOP,\n      fengmapSDK.controlPositon.RIGHT_BOTTOM,\n      fengmapSDK.controlPositon.RIGHT_TOP\n    ]\n\n    this.setState(\n      {\n        style: this._getFinalStyle(this.props, POSITIONS),\n        POSITIONS,\n        loaded: true\n      },\n      () => {\n        const elem = this.rotateControl.current\n        if (!elem) {\n          return\n        }\n        elem.addEventListener(\n          'click',\n          () => {\n            map.rotateAngle = this._getNextRotateAngle(map.rotateAngle)\n          },\n          false\n        )\n      }\n    )\n  }\n\n  _getNextRotateAngle = rotateAngle => {\n    const { angle } = this.props\n    let next = rotateAngle + angle\n    if (next <= 360) {\n      return next\n    }\n    return next - 360\n  }\n\n  render() {\n    const { loaded, style } = this.state\n    if (!loaded) {\n      return null\n    }\n    return (\n      <div className=\"fm-control-rotate-btn\" style={style} ref={this.rotateControl}>\n        <img src={rotateIcon} style={INNER_STYLE} alt=\"\" />\n      </div>\n    )\n  }\n}\n\nexport default FengmapRotateControl\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nimport styles from './index.css'\n\nclass HorizontalButtonGroupsControl extends React.Component {\n  static propTypes = {\n    map: PropTypes.any,\n    sdk: PropTypes.any,\n    height: PropTypes.number,\n    ctrlOptions: PropTypes.shape({\n      showBtnCount: PropTypes.number,\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }),\n    labelFormater: PropTypes.func,\n    mapOnloadOver: PropTypes.bool\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      focusFloor: props.map.focusFloor,\n      showGroups: false,\n      listFloors: null\n    }\n  }\n\n  componentDidMount() {\n    const { map } = this.props\n\n    map.on('focusGroupIDChanged', () => {\n      this.setState({\n        focusFloor: map.focusFloor\n      })\n    })\n\n    setTimeout(() => {\n      this.setState({\n        focusFloor: map.focusFloor,\n        listFloors: map.listFloors\n      })\n    }, 500)\n  }\n\n  componentWillUnmount() {\n    const { map } = this.props\n    map.off('focusGroupIDChanged')\n  }\n\n  onChange = () => {}\n\n  _getPosition = () => {\n    const { height, sdk, ctrlOptions } = this.props\n    if (ctrlOptions && !ctrlOptions.offset) {\n      if (!ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n      if (sdk.controlPositon.LEFT_TOP === ctrlOptions.position) {\n        return {\n          left: '10px',\n          top: `${height * 0.18}px`\n        }\n      }\n      if (sdk.controlPositon.LEFT_BOTTOM === ctrlOptions.position) {\n        return {\n          left: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n      if (sdk.controlPositon.RIGHT_TOP === ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.18}px`\n        }\n      }\n      if (sdk.controlPositon.RIGHT_BOTTOM === ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n    }\n\n    if (!ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n\n    if (sdk.controlPositon.LEFT_TOP === ctrlOptions.position) {\n      return {\n        left: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.18 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.LEFT_BOTTOM === ctrlOptions.position) {\n      return {\n        left: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.RIGHT_TOP === ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.18 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.RIGHT_BOTTOM === ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n  }\n\n  _toggleShowGroups = () => {\n    this.setState({\n      showGroups: !this.state.showGroups\n    })\n  }\n\n  _getFloorName = (floorLevel, isFocusFloorName) => {\n    const {\n      labelFormater,\n      map: { focusFloor }\n    } = this.props\n\n    if (!floorLevel || Number.isNaN(floorLevel)) {\n      return ''\n    }\n    //重置时重新设置楼层按钮显示\n    if (isFocusFloorName && typeof focusFloor === 'undefined') {\n      floorLevel = this.state.listFloors[0]\n      setTimeout(() => {\n        this.setState({\n          focusFloor: floorLevel\n        })\n      }, 50)\n    }\n    if (labelFormater) {\n      return `${labelFormater(floorLevel)}`\n    }\n\n    if (floorLevel > 0) {\n      return `F${floorLevel}`\n    }\n    return `B${Math.abs(floorLevel)}`\n  }\n\n  _changeFloor = floor => {\n    const { map } = this.props\n\n    map.focusFloor = floor\n    //切换时存储最新的楼层信息\n    this.setState({\n      focusFloor: floor\n    })\n    this._toggleShowGroups()\n  }\n\n  _getDisplayGroups = containerPosition => {\n    const { map, ctrlOptions } = this.props\n    const { showGroups } = this.state\n    const { showBtnCount } = ctrlOptions\n\n    if (!showGroups || !map || !map.listFloors) {\n      return null\n    }\n\n    const realBtnCount =\n      showBtnCount > map.listFloors.length || showBtnCount < 1 ? map.listFloors.length : showBtnCount || 3\n\n    const groupsContainerPosition = {\n      width: `${42 * realBtnCount}px`\n    }\n\n    if (containerPosition.right) {\n      const rightNumber = +containerPosition.right.replace('px', '')\n      groupsContainerPosition.right = `${rightNumber + 42}px`\n    } else {\n      const leftNumber = +containerPosition.left.replace('px', '')\n      groupsContainerPosition.left = `${leftNumber + 42}px`\n    }\n\n    return (\n      <div className={styles.groupsContainer} style={groupsContainerPosition}>\n        {map.listFloors.map((floor, i) => {\n          return (\n            <div\n              key={floor}\n              className={classnames(styles.floorBlock, styles.inlineBlock, {\n                [styles.active]: floor === map.focusFloor\n              })}\n              onClick={() => this._changeFloor(floor)}\n            >\n              {this._getFloorName(floor)}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    const { focusFloor } = this.state\n    const { mapOnloadOver } = this.props\n    const containerPosition = this._getPosition()\n\n    return (\n      <div\n        className={styles.horizontalButtonGroup}\n        style={Object.assign({}, containerPosition, { display: mapOnloadOver ? 'block' : 'none' })}\n      >\n        {this._getDisplayGroups(containerPosition)}\n        <div\n          className={classnames(styles.floorBlock, styles.initFloor, styles.withBorder, styles.active)}\n          onClick={this._toggleShowGroups}\n        >\n          {this._getFloorName(focusFloor, true)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default HorizontalButtonGroupsControl\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nimport styles from './index.css'\n\nclass VerticalButtonGroupsControl extends React.Component {\n  static propTypes = {\n    map: PropTypes.any,\n    sdk: PropTypes.any,\n    height: PropTypes.number,\n    ctrlOptions: PropTypes.shape({\n      showBtnCount: PropTypes.number,\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }),\n    labelFormater: PropTypes.func,\n    mapOnloadOver: PropTypes.bool\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      focusFloor: props.map.focusFloor,\n      showGroups: false,\n      listFloors: null\n    }\n  }\n\n  componentDidMount() {\n    const { map } = this.props\n    map.on('focusGroupIDChanged', () => {\n      this.setState({\n        focusFloor: map.focusFloor\n      })\n    })\n\n    setTimeout(() => {\n      this.setState({\n        focusFloor: map.focusFloor,\n        listFloors: map.listFloors\n      })\n    }, 500)\n  }\n\n  componentWillUnmount() {\n    const { map } = this.props\n    map.off('focusGroupIDChanged')\n  }\n\n  _getPosition = () => {\n    const { height, sdk, ctrlOptions } = this.props\n    if (ctrlOptions && !ctrlOptions.offset) {\n      if (!ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n      if (sdk.controlPositon.LEFT_TOP === ctrlOptions.position) {\n        return {\n          left: '10px',\n          top: `${height * 0.18}px`\n        }\n      }\n      if (sdk.controlPositon.LEFT_BOTTOM === ctrlOptions.position) {\n        return {\n          left: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n      if (sdk.controlPositon.RIGHT_TOP === ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.18}px`\n        }\n      }\n      if (sdk.controlPositon.RIGHT_BOTTOM === ctrlOptions.position) {\n        return {\n          right: '10px',\n          top: `${height * 0.82}px`\n        }\n      }\n    }\n\n    if (!ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n\n    if (sdk.controlPositon.LEFT_TOP === ctrlOptions.position) {\n      return {\n        left: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.18 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.LEFT_BOTTOM === ctrlOptions.position) {\n      return {\n        left: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.RIGHT_TOP === ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.18 - ctrlOptions.offset.y}px`\n      }\n    }\n    if (sdk.controlPositon.RIGHT_BOTTOM === ctrlOptions.position) {\n      return {\n        right: `${10 + ctrlOptions.offset.x}px`,\n        top: `${height * 0.82 - ctrlOptions.offset.y}px`\n      }\n    }\n  }\n\n  _toggleShowGroups = () => {\n    this.setState({\n      showGroups: !this.state.showGroups\n    })\n  }\n\n  _getFloorName = (floorLevel, isFocusFloorName) => {\n    const {\n      labelFormater,\n      map: { focusFloor }\n    } = this.props\n    if (!floorLevel || Number.isNaN(floorLevel)) {\n      return ''\n    }\n    //重置时重新设置楼层按钮显示\n    if (isFocusFloorName && typeof focusFloor === 'undefined') {\n      floorLevel = this.state.listFloors[0]\n      setTimeout(() => {\n        this.setState({\n          focusFloor: floorLevel\n        })\n      }, 50)\n    }\n    if (labelFormater) {\n      return `${labelFormater(floorLevel)}`\n    }\n    if (floorLevel > 0) {\n      return `F${floorLevel}`\n    }\n    return `B${Math.abs(floorLevel)}`\n  }\n\n  _changeFloor = floor => {\n    const { map } = this.props\n    map.focusFloor = floor\n    //切换时存储最新的楼层信息\n    this.setState({\n      focusFloor: floor\n    })\n    this._toggleShowGroups()\n  }\n\n  _getDisplayGroups = containerPosition => {\n    const { map, ctrlOptions } = this.props\n    const { showGroups } = this.state\n    const { showBtnCount } = ctrlOptions\n    if (!showGroups || !map || !map.listFloors) {\n      return null\n    }\n\n    const realBtnCount =\n      showBtnCount > map.listFloors.length || showBtnCount < 1 ? map.listFloors.length : showBtnCount || 3\n\n    const groupsContainerPosition = {\n      top: `-${realBtnCount * 42 + 10}px`,\n      height: `${realBtnCount * 42}px`\n    }\n\n    return (\n      <div className={styles.groupsContainer} style={groupsContainerPosition}>\n        {map.listFloors.map((floor, i) => {\n          return (\n            <div\n              key={floor}\n              className={classnames(styles.floorBlock, {\n                [styles.active]: floor === map.focusFloor\n              })}\n              onClick={() => this._changeFloor(floor)}\n            >\n              {this._getFloorName(floor)}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    const { focusFloor } = this.state\n    const { mapOnloadOver } = this.props\n    const containerPosition = this._getPosition()\n    return (\n      <div\n        className={styles.verticalButtonGroup}\n        style={Object.assign({}, containerPosition, { display: mapOnloadOver ? 'block' : 'none' })}\n      >\n        {this._getDisplayGroups(containerPosition)}\n        <div\n          className={classnames(styles.floorBlock, styles.withBorder, styles.active)}\n          onClick={this._toggleShowGroups}\n        >\n          {this._getFloorName(focusFloor, true)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default VerticalButtonGroupsControl\n","import React from 'react'\nimport FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nimport HorizontalButtonGroupsControl from '../components/HorizontalButtonGroupsControl'\nimport VerticalButtonGroupsControl from '../components/VerticalButtonGroupsControl'\n\nclass FengmapFloorControl extends FengmapBaseControl {\n  static propTypes = {\n    ctrlOptions: PropTypes.shape({\n      allLayer: PropTypes.bool,\n      showBtnCount: PropTypes.number,\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }).isRequired,\n    labelFormater: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showHorizontal: false,\n      ctrlOptions: null,\n      map: null,\n      fengmapSDK: null,\n      mapOnloadOver: false\n    }\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { ctrlOptions } = this.props\n    if (!parent.isFengmapBase) {\n      throw new Error('<FengmapFloorControl /> cannot work with <FengmapFloors />')\n    }\n\n    this.resizeHandler = () => {\n      this.resizeTimer = setTimeout(() => {\n        try {\n          this.setState({\n            showHorizontal: map.height < 450\n          })\n        } catch (error) {\n          console.warn(error.message)\n        }\n      }, 1000)\n    }\n\n    window.addEventListener('resize', this.resizeHandler)\n    this.setState({\n      ctrlOptions,\n      map,\n      fengmapSDK,\n      mapOnloadOver: true\n    })\n\n    setTimeout(this.resizeHandler, 500)\n  }\n\n  unload = (map, fengmapSDK, parent) => {\n    clearTimeout(this.resizeTimer)\n    window.removeEventListener('resize', this.resizeHandler)\n    this.setState({\n      mapOnloadOver: false\n    })\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resizeHandler)\n  }\n\n  render() {\n    const { labelFormater } = this.props\n    const { showHorizontal, ctrlOptions, map, fengmapSDK, mapOnloadOver } = this.state\n\n    if (!map) {\n      return null\n    }\n    const ButtonGroupsControl = showHorizontal ? HorizontalButtonGroupsControl : VerticalButtonGroupsControl\n    if (!mapOnloadOver) {\n      return null\n    }\n    return (\n      <ButtonGroupsControl\n        ctrlOptions={ctrlOptions || {}}\n        height={map.height}\n        sdk={fengmapSDK}\n        map={map}\n        labelFormater={labelFormater}\n        mapOnloadOver={mapOnloadOver}\n      />\n    )\n  }\n}\n\nexport default FengmapFloorControl\n","import FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nclass Fengmap3DControl extends FengmapBaseControl {\n  static propTypes = {\n    ctrlOptions: PropTypes.shape({\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }),\n      imgURL: PropTypes.string\n    }).isRequired\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { ctrlOptions } = this.props\n    new fengmapSDK.toolControl(map, ctrlOptions)\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default Fengmap3DControl\n","import FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nclass FengmapCompassControl extends FengmapBaseControl {\n  static propTypes = {\n    visible: PropTypes.bool.isRequired,\n    image: PropTypes.shape({\n      bg: PropTypes.string,\n      fg: PropTypes.string\n    }),\n    onClick: PropTypes.func\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { visible } = this.props\n    this.mapInstance = map\n    map.showCompass = visible\n\n    this._initImage()\n    this._initClick()\n  }\n\n  _initImage = () => {\n    const { image } = this.props\n    const img = image || {}\n    this.mapInstance.compass.setBgImage(img.bg)\n    this.mapInstance.compass.setFgImage(img.fg)\n  }\n\n  _initClick = () => {\n    const { onClick } = this.props\n    this.mapInstance.off('mapClickCompass')\n    if (!onClick) {\n      return\n    }\n    this.mapInstance.on('mapClickCompass', (...args) => {\n      onClick(this.mapInstance, ...args)\n    })\n  }\n\n  componentDidUpdate(prev) {\n    if (prev.visible !== this.props.visible) {\n      this.mapInstance.showCompass = this.props.visible\n    }\n    if (prev.onClick !== this.props.onClick) {\n      this._initClick()\n    }\n    if (prev.image !== this.props.image) {\n      this._initImage()\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default FengmapCompassControl\n","import React from 'react'\nimport FengmapBaseControl from '../bases/FengmapBaseControl'\nimport PropTypes from 'prop-types'\n\nconst RESET_STYLE = {\n  position: 'absolute',\n  width: '42PX',\n  height: '42PX',\n  backgroundSize: 'contain',\n  boxShadow: 'rgba(0, 0, 0, 0.3) 2px 2px 3px',\n  cursor: 'pointer',\n  backgroundColor: '#fff'\n}\n\nclass FengmapResetControl extends FengmapBaseControl {\n  static propTypes = {\n    ctrlOptions: PropTypes.shape({\n      position: PropTypes.number,\n      offset: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }).isRequired\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      ctrlOptions: null,\n      parent: null,\n      map: null,\n      mapOnloadOver: false\n    }\n    this.btnRef = React.createRef()\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { ctrlOptions } = this.props\n    this.setState({\n      map,\n      ctrlOptions,\n      parent\n    })\n    setTimeout(() => {\n      this.setState({\n        mapOnloadOver: true\n      })\n    }, 200)\n  }\n\n  resetMap = () => {\n    this.setState({\n      mapOnloadOver: false\n    })\n    const original = this.btnRef.current.style['pointer-events'] || 'auto'\n    this.btnRef.current.style['pointer-events'] = 'none'\n    const { parent } = this.state\n    parent._destroy()\n    parent._loadMap(parent.props.mapId).then(() => {\n      this.btnRef.current.style['pointer-events'] = original\n    })\n  }\n\n  render() {\n    const { ctrlOptions, map, mapOnloadOver } = this.state\n    if (!map) {\n      return null\n    }\n    return (\n      <div\n        ref={this.btnRef}\n        onClick={this.resetMap}\n        style={Object.assign({}, RESET_STYLE, getResetPosition(ctrlOptions), {\n          display: mapOnloadOver ? 'block' : 'none'\n        })}\n      />\n    )\n  }\n}\n\nexport default FengmapResetControl\n\nfunction getResetPosition(ctrlOptions) {\n  let x = 0\n  let y = 0\n  const { position } = ctrlOptions\n  if (ctrlOptions.hasOwnProperty('offset')) {\n    x = ctrlOptions.offset.x\n    y = ctrlOptions.offset.y\n  }\n\n  const { imgURL } = ctrlOptions\n\n  switch (position) {\n    case 1:\n      return { left: `${10 + x}px`, top: `${50 + y}px`, backgroundImage: `url(${imgURL})` }\n    case 3:\n      return { right: `${10 + x}px`, top: `${50 + y}px`, backgroundImage: `url(${imgURL})` }\n    case 2:\n      return { left: `${10 + x}px`, bottom: `${50 + y}px`, backgroundImage: `url(${imgURL})` }\n    case 4:\n      return { right: `${10 + x}px`, bottom: `${50 + y}px`, backgroundImage: `url(${imgURL})` }\n    default:\n      return { right: `${10 + x}px`, bottom: `${50 + y}px`, backgroundImage: \"url('/assets/reset.png')\" }\n  }\n}\n","import FengmapBaseOverlay from '../bases/FengmapBaseOverlay'\nimport PropTypes from 'prop-types'\n\nimport { pick } from '../helpers/object'\n\nclass FengmapImageMarker extends FengmapBaseOverlay {\n  static propTypes = {\n    opts: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      size: PropTypes.number,\n      height: PropTypes.number,\n      url: PropTypes.string,\n      callback: PropTypes.func\n    }).isRequired\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { opts } = this.props\n\n    this._createMarker(map, fengmapSDK, opts)\n  }\n\n  _createMarker = (map, fengmapSDK, opts) => {\n    this.map = map\n    this.fengmapSDK = fengmapSDK\n    this.focusGroupID = this.map.focusGroupID\n    this.groupLayer = this.map.getFMGroup(this.map.focusGroupID)\n    this.layer = new this.fengmapSDK.FMImageMarkerLayer()\n    this.groupLayer.addLayer(this.layer)\n    this.marker = new this.fengmapSDK.FMImageMarker({\n      ...opts,\n      callback: () => {\n        this.marker.alwaysShow()\n        if (opts.callback) {\n          opts.callback(this.marker)\n        }\n      }\n    })\n    this.layer.addMarker(this.marker)\n  }\n\n  componentDidUpdate(prev) {\n    if (prev.opts === this.props.opts) {\n      return\n    }\n    const { opts } = this.props\n    if (this.focusGroupID === this.map.focusGroupID) {\n      this.marker.setPosition(pick(opts, ['x', 'y']), this.map.focusGroupID, opts.height)\n      return\n    }\n\n    this._destroy()\n\n    this._createMarker(this.map, this.fengmapSDK, opts)\n  }\n\n  _destroy = () => {\n    if (this.layer) {\n      this.layer.removeAll()\n    }\n    if (this.groupLayer) {\n      this.groupLayer.removeLayer(this.layer)\n    }\n  }\n\n  componentWillUnmount() {\n    this._destroy()\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default FengmapImageMarker\n","import FengmapBaseOverlay from '../bases/FengmapBaseOverlay'\nimport PropTypes from 'prop-types'\n\nconst EVENTS = ['complete', 'crossGroup', 'walking']\n\nclass FengmapNavigation extends FengmapBaseOverlay {\n  static propTypes = {\n    naviOptions: PropTypes.shape({\n      speed: PropTypes.number,\n      followPosition: PropTypes.bool,\n      followAngle: PropTypes.bool,\n      changeTiltAngle: PropTypes.bool,\n      scaleLevel: PropTypes.number,\n      offsetHeight: PropTypes.number,\n      lineStyle: PropTypes.object\n    }),\n    start: PropTypes.shape({\n      options: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number,\n        groupID: PropTypes.number,\n        url: PropTypes.string,\n        size: PropTypes.number,\n        callback: PropTypes.func\n      }),\n      noMarker: PropTypes.bool\n    }),\n    end: PropTypes.shape({\n      options: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number,\n        groupID: PropTypes.number,\n        url: PropTypes.string,\n        size: PropTypes.number,\n        callback: PropTypes.func\n      }),\n      noMarker: PropTypes.bool\n    }),\n    events: PropTypes.object,\n    onDrawComplete: PropTypes.func\n  }\n\n  load = (map, fengmapSDK, parent) => {\n    const { naviOptions } = this.props\n\n    this._createNavigation(map, fengmapSDK, naviOptions)\n  }\n\n  _createNavigation = (map, fengmapSDK, naviOptions) => {\n    this.map = map\n    this.fengmapSDK = fengmapSDK\n    this.navigation = new fengmapSDK.FMNavigation({\n      ...(naviOptions || {}),\n      map: map\n    })\n    const { events } = this.props\n    EVENTS.forEach(e => {\n      this.navigation.on(e, event => {\n        if (events && events[e]) {\n          events[e](event, this.navigation)\n        }\n      })\n    })\n\n    this._setRoute({}, this.props)\n  }\n\n  _setRoute = (prev, props) => {\n    const { start, end, onDrawComplete } = props\n    if (!this.navigation) {\n      return\n    }\n    if (start !== prev.start || end !== prev.end) {\n      this.navigation.clearAll()\n    }\n    if (start && start.options) {\n      this.navigation.setStartPoint(start.options, start.noMarker)\n    }\n    if (end && end.options) {\n      this.navigation.setEndPoint(end.options, end.noMarker)\n    }\n\n    if (start && end) {\n      this.navigation.drawNaviLine()\n      onDrawComplete && onDrawComplete(this.navigation)\n    }\n  }\n\n  componentDidUpdate(prev) {\n    this._setRoute(prev || {}, this.props)\n  }\n\n  _destroy = () => {\n    if (this.navigation) {\n      this.navigation.clearAll()\n    }\n  }\n\n  componentWillUnmount() {\n    this._destroy()\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default FengmapNavigation\n"],"names":["isNil","obj","undefined","isArray","Object","prototype","toString","call","isFunction","grabNumbers","str","match","pick","keys","newObj","forEach","key","FengmapBaseControl","React","Component","FengmapBaseOverlay","VALID_SUB_COMPONENTS","isChildrenValid","children","length","every","c","type","Error","child","find","isOrderIE","version","ieVersion","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","trident","rv","edge","getFloors","map","listGroups","g","gname","toLowerCase","error","initFloorsToMapInstance","defineProperty","get","groupIDs","focusGroupID","set","floor","floors","visibleGroupIDs","enumerable","configurable","STYLE_LEFT_TOP","position","top","left","STYLE_LEFT_BOTTOM","bottom","STYLE_RIGHT_TOP","right","STYLE_RIGHT_BOTTOM","mergeWithOffset","ctrlOptions","POSITIONS","baseStyle","offset","assign","y","x","EVENTS","INNER_STYLE","width","height","backgroundColor","display","justifyContent","alignItems","FengmapBase","props","reduce","init","curr","concat","mapId","Promise","resolve","reject","mapOptions","events","fengmapSDK","mapInstance","mapContainer","current","innerHTML","FMMap","container","e","on","event","loadingTxt","style","_configGestureEnableController","_initAllChildren","mapHoverNode","gestureEnableController","enableMapHover","openMapById","refs","ref","load","unload","_destroyAllChildren","off","dispose","err","console","warn","createRef","_removeNullDomArray","isFengmapBase","_loadMap","prevProps","_destroy","verticalAlign","textAlign","supportTxt","childs","cloneChildren","cloneElements","PropTypes","bool","reference","any","object","isRequired","string","shape","enableMapPan","enableMapPinch","enableMapRotate","enableMapIncline","enableMapSingleTap","cloneElement","i","FengmapFloors","onFloorChange","value","listFloors","index","findIndex","f","groupId","floorLevel","_changeFloor","omit","defaultVisibleGroups","defaultFocusGroup","loadComplete","number","func","forwardRef","filter","k","FengmapZoomControl","parent","zoomControl","imgURL","INLINE_STYLE","zIndex","cursor","boxShadow","borderRadius","marginTop","marginLeft","FengmapRotateControl","controlPositon","LEFT_BOTTOM","LEFT_TOP","RIGHT_BOTTOM","RIGHT_TOP","setState","_getFinalStyle","loaded","elem","rotateControl","addEventListener","rotateAngle","_getNextRotateAngle","angle","next","state","rotateIcon","propName","componentName","HorizontalButtonGroupsControl","sdk","showGroups","isFocusFloorName","labelFormater","focusFloor","Number","isNaN","setTimeout","Math","abs","_toggleShowGroups","containerPosition","showBtnCount","realBtnCount","groupsContainerPosition","rightNumber","replace","leftNumber","styles","groupsContainer","classnames","floorBlock","inlineBlock","active","_getFloorName","mapOnloadOver","_getPosition","horizontalButtonGroup","_getDisplayGroups","initFloor","withBorder","VerticalButtonGroupsControl","verticalButtonGroup","FengmapFloorControl","resizeHandler","resizeTimer","showHorizontal","message","clearTimeout","removeEventListener","ButtonGroupsControl","allLayer","Fengmap3DControl","toolControl","FengmapCompassControl","visible","showCompass","_initImage","_initClick","image","img","compass","setBgImage","bg","setFgImage","fg","onClick","args","prev","RESET_STYLE","backgroundSize","FengmapResetControl","original","btnRef","then","resetMap","getResetPosition","hasOwnProperty","backgroundImage","FengmapImageMarker","opts","_createMarker","groupLayer","getFMGroup","layer","FMImageMarkerLayer","addLayer","marker","FMImageMarker","callback","alwaysShow","addMarker","removeAll","removeLayer","setPosition","size","url","FengmapNavigation","naviOptions","_createNavigation","navigation","FMNavigation","_setRoute","start","end","onDrawComplete","clearAll","options","setStartPoint","noMarker","setEndPoint","drawNaviLine","speed","followPosition","followAngle","changeTiltAngle","scaleLevel","offsetHeight","lineStyle","groupID"],"mappings":"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"}